/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Property } from '../models/property';
import { ArrayItemProperty } from '../models/array-item-property';
import { ResultsPassRequirement } from '../models/results-pass-requirement';
/**
 * Utility class for building model settings
 */
var /**
 * Utility class for building model settings
 */
ModelSettingsBuilder = /** @class */ (function () {
    function ModelSettingsBuilder() {
    }
    /**
     * Creates a property
     * @param propertyName Property name
     * @param extend Function to extend the property
     * @returns Created property
     */
    /**
     * Creates a property
     * @template T
     * @param {?} propertyName Property name
     * @param {?=} extend Function to extend the property
     * @return {?} Created property
     */
    ModelSettingsBuilder.prototype.property = /**
     * Creates a property
     * @template T
     * @param {?} propertyName Property name
     * @param {?=} extend Function to extend the property
     * @return {?} Created property
     */
    function (propertyName, extend) {
        if (!propertyName || typeof propertyName !== 'string')
            throw Error('Invalid property name');
        var /** @type {?} */ property = new Property(propertyName);
        if (extend)
            extend(property);
        return property;
    };
    /**
     * Creates an array item property
     * @param extend Function to extend the array item property
     * @returns Created array item property
     */
    /**
     * Creates an array item property
     * @template T
     * @param {?=} extend Function to extend the array item property
     * @return {?} Created array item property
     */
    ModelSettingsBuilder.prototype.arrayItemProperty = /**
     * Creates an array item property
     * @template T
     * @param {?=} extend Function to extend the array item property
     * @return {?} Created array item property
     */
    function (extend) {
        var /** @type {?} */ property = new ArrayItemProperty();
        if (extend)
            extend(property);
        return property;
    };
    /**
     * Creates a validation test
     * @param message Message when the test fails
     * @param check Check rule set for the test
     * @param condition Condition rule set for the test
     * @returns Created validation test
     */
    /**
     * Creates a validation test
     * @template T
     * @param {?} message Message when the test fails
     * @param {?} check Check rule set for the test
     * @param {?=} condition Condition rule set for the test
     * @return {?} Created validation test
     */
    ModelSettingsBuilder.prototype.validTest = /**
     * Creates a validation test
     * @template T
     * @param {?} message Message when the test fails
     * @param {?} check Check rule set for the test
     * @param {?=} condition Condition rule set for the test
     * @return {?} Created validation test
     */
    function (message, check, condition) {
        return this.validNamedTest(null, message, check, condition);
    };
    /**
     * Creates a named validation test
     * @param name Name of the test
     * @param message Message when the test fails
     * @param check Check rule set for the test
     * @param condition Condition rule set for the test
     * @returns Created named validation test
     */
    /**
     * Creates a named validation test
     * @template T
     * @param {?} name Name of the test
     * @param {?} message Message when the test fails
     * @param {?} check Check rule set for the test
     * @param {?=} condition Condition rule set for the test
     * @return {?} Created named validation test
     */
    ModelSettingsBuilder.prototype.validNamedTest = /**
     * Creates a named validation test
     * @template T
     * @param {?} name Name of the test
     * @param {?} message Message when the test fails
     * @param {?} check Check rule set for the test
     * @param {?=} condition Condition rule set for the test
     * @return {?} Created named validation test
     */
    function (name, message, check, condition) {
        return /** @type {?} */ ({
            name: name,
            message: message,
            check: check,
            condition: condition
        });
    };
    /**
     * Creates an edit test
     * @param check Check rule set for the test
     * @param condition Condition rule set for the test
     * @returns Created edit test
     */
    /**
     * Creates an edit test
     * @template T
     * @param {?} check Check rule set for the test
     * @param {?=} condition Condition rule set for the test
     * @return {?} Created edit test
     */
    ModelSettingsBuilder.prototype.editTest = /**
     * Creates an edit test
     * @template T
     * @param {?} check Check rule set for the test
     * @param {?=} condition Condition rule set for the test
     * @return {?} Created edit test
     */
    function (check, condition) {
        return this.editNamedTest(null, check, condition);
    };
    /**
     * Creates a named edit test
     * @param name Name of the test
     * @param check Check rule set for the test
     * @param condition Condition rule set for the test
     * @returns Created named edit test
     */
    /**
     * Creates a named edit test
     * @template T
     * @param {?} name Name of the test
     * @param {?} check Check rule set for the test
     * @param {?=} condition Condition rule set for the test
     * @return {?} Created named edit test
     */
    ModelSettingsBuilder.prototype.editNamedTest = /**
     * Creates a named edit test
     * @template T
     * @param {?} name Name of the test
     * @param {?} check Check rule set for the test
     * @param {?=} condition Condition rule set for the test
     * @return {?} Created named edit test
     */
    function (name, check, condition) {
        return /** @type {?} */ ({
            name: name,
            check: check,
            condition: condition
        });
    };
    /**
     * Creates a rule
     * @param func Function for the rule
     * @param options Additional rule options
     * @returns Created rule
     */
    /**
     * Creates a rule
     * @template T, R
     * @param {?} func Function for the rule
     * @param {?=} options Additional rule options
     * @return {?} Created rule
     */
    ModelSettingsBuilder.prototype.rule = /**
     * Creates a rule
     * @template T, R
     * @param {?} func Function for the rule
     * @param {?=} options Additional rule options
     * @return {?} Created rule
     */
    function (func, options) {
        return this.ruleCombo(func, null, options);
    };
    /**
     * Creates an async rule
     * @param asyncFunc Async function for the rule
     * @param options Additional rule options
     * @returns Created rule
     */
    /**
     * Creates an async rule
     * @template T, R
     * @param {?} asyncFunc Async function for the rule
     * @param {?=} options Additional rule options
     * @return {?} Created rule
     */
    ModelSettingsBuilder.prototype.ruleAsync = /**
     * Creates an async rule
     * @template T, R
     * @param {?} asyncFunc Async function for the rule
     * @param {?=} options Additional rule options
     * @return {?} Created rule
     */
    function (asyncFunc, options) {
        return this.ruleCombo(null, asyncFunc, options);
    };
    /**
     * Creates a combo rule that has both syncronous and async functions
     * @param func Function for the rule
     * @param asyncFunc Async function for the rule
     * @param options Additional rule options
     * @returns Created rule
     */
    /**
     * Creates a combo rule that has both syncronous and async functions
     * @template T, R
     * @param {?} func Function for the rule
     * @param {?} asyncFunc Async function for the rule
     * @param {?=} options Additional rule options
     * @return {?} Created rule
     */
    ModelSettingsBuilder.prototype.ruleCombo = /**
     * Creates a combo rule that has both syncronous and async functions
     * @template T, R
     * @param {?} func Function for the rule
     * @param {?} asyncFunc Async function for the rule
     * @param {?=} options Additional rule options
     * @return {?} Created rule
     */
    function (func, asyncFunc, options) {
        return /** @type {?} */ ({
            func: func,
            asyncFunc: asyncFunc,
            options: options
        });
    };
    /**
     * Creates a rule group
     * @param ruleSets Rule sets for the rule group
     * @param options Additional rule group options
     * @returns Created rule group
     */
    /**
     * Creates a rule group
     * @template T
     * @param {?} ruleSets Rule sets for the rule group
     * @param {?=} options Additional rule group options
     * @return {?} Created rule group
     */
    ModelSettingsBuilder.prototype.ruleGroup = /**
     * Creates a rule group
     * @template T
     * @param {?} ruleSets Rule sets for the rule group
     * @param {?=} options Additional rule group options
     * @return {?} Created rule group
     */
    function (ruleSets, options) {
        return /** @type {?} */ ({
            rules: ruleSets,
            options: options || { resultRequirements: ResultsPassRequirement.AllPass }
        });
    };
    return ModelSettingsBuilder;
}());
/**
 * Utility class for building model settings
 */
export { ModelSettingsBuilder };

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWwtc2V0dGluZ3MtYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nLWZvcm0tcnVsZXMvIiwic291cmNlcyI6WyJsaWIvZm9ybS1ydWxlcy9oZWxwZXIvbW9kZWwtc2V0dGluZ3MtYnVpbGRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBSTlDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBTWxFLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLG9DQUFvQyxDQUFDOzs7O0FBSzVFOzs7QUFBQTs7O0lBQ0k7Ozs7O09BS0c7Ozs7Ozs7O0lBQ0gsdUNBQVE7Ozs7Ozs7SUFBUixVQUFZLFlBQXFCLEVBQUUsTUFBb0M7UUFDbkUsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLElBQUksT0FBTyxZQUFZLEtBQUssUUFBUSxDQUFDO1lBQUMsTUFBTSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUU1RixxQkFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQUksWUFBWSxDQUFDLENBQUM7UUFFL0MsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRTdCLE1BQU0sQ0FBQyxRQUFRLENBQUM7S0FDbkI7SUFFRDs7OztPQUlHOzs7Ozs7O0lBQ0gsZ0RBQWlCOzs7Ozs7SUFBakIsVUFBcUIsTUFBNkM7UUFDOUQscUJBQU0sUUFBUSxHQUFHLElBQUksaUJBQWlCLEVBQUssQ0FBQztRQUU1QyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFN0IsTUFBTSxDQUFDLFFBQVEsQ0FBQztLQUNuQjtJQUVEOzs7Ozs7T0FNRzs7Ozs7Ozs7O0lBQ0gsd0NBQVM7Ozs7Ozs7O0lBQVQsVUFBYSxPQUFlLEVBQUUsS0FBaUIsRUFBRSxTQUFzQjtRQUNuRSxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztLQUMvRDtJQUVEOzs7Ozs7O09BT0c7Ozs7Ozs7Ozs7SUFDSCw2Q0FBYzs7Ozs7Ozs7O0lBQWQsVUFBa0IsSUFBWSxFQUFFLE9BQWUsRUFBRSxLQUFpQixFQUFFLFNBQXNCO1FBQ3RGLE1BQU0sbUJBQUM7WUFDSCxJQUFJLEVBQUUsSUFBSTtZQUNWLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLEtBQUssRUFBRSxLQUFLO1lBQ1osU0FBUyxFQUFFLFNBQVM7U0FDWixFQUFDO0tBQ2hCO0lBRUQ7Ozs7O09BS0c7Ozs7Ozs7O0lBQ0gsdUNBQVE7Ozs7Ozs7SUFBUixVQUFZLEtBQWlCLEVBQUUsU0FBc0I7UUFDakQsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztLQUNyRDtJQUVEOzs7Ozs7T0FNRzs7Ozs7Ozs7O0lBQ0gsNENBQWE7Ozs7Ozs7O0lBQWIsVUFBaUIsSUFBWSxFQUFFLEtBQWlCLEVBQUUsU0FBc0I7UUFDcEUsTUFBTSxtQkFBQztZQUNILElBQUksRUFBRSxJQUFJO1lBQ1YsS0FBSyxFQUFFLEtBQUs7WUFDWixTQUFTLEVBQUUsU0FBUztTQUNaLEVBQUM7S0FDaEI7SUFFRDs7Ozs7T0FLRzs7Ozs7Ozs7SUFDSCxtQ0FBSTs7Ozs7OztJQUFKLFVBQVcsSUFBb0IsRUFBRSxPQUFxQjtRQUNsRCxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQzlDO0lBRUQ7Ozs7O09BS0c7Ozs7Ozs7O0lBQ0gsd0NBQVM7Ozs7Ozs7SUFBVCxVQUFnQixTQUE4QixFQUFFLE9BQXFCO1FBQ2pFLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDbkQ7SUFFRDs7Ozs7O09BTUc7Ozs7Ozs7OztJQUNILHdDQUFTOzs7Ozs7OztJQUFULFVBQWdCLElBQW9CLEVBQUUsU0FBOEIsRUFBRSxPQUFxQjtRQUN2RixNQUFNLG1CQUFDO1lBQ0gsSUFBSSxFQUFFLElBQUk7WUFDVixTQUFTLEVBQUUsU0FBUztZQUNwQixPQUFPLEVBQUUsT0FBTztTQUNSLEVBQUM7S0FDaEI7SUFFRDs7Ozs7T0FLRzs7Ozs7Ozs7SUFDSCx3Q0FBUzs7Ozs7OztJQUFULFVBQWEsUUFBc0IsRUFBRSxPQUEwQjtRQUMzRCxNQUFNLG1CQUFDO1lBQ0gsS0FBSyxFQUFFLFFBQVE7WUFDZixPQUFPLEVBQUUsT0FBTyxJQUFJLEVBQUUsa0JBQWtCLEVBQUUsc0JBQXNCLENBQUMsT0FBTyxFQUFFO1NBQzdELEVBQUM7S0FDckI7K0JBaEpMO0lBaUpDLENBQUE7Ozs7QUFsSUQsZ0NBa0lDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvcGVydHkgfSBmcm9tICcuLi9tb2RlbHMvcHJvcGVydHknO1xyXG5pbXBvcnQgeyBSdWxlR3JvdXAgfSBmcm9tICcuLi9tb2RlbHMvcnVsZS1ncm91cCc7XHJcbmltcG9ydCB7IFJ1bGUgfSBmcm9tICcuLi9tb2RlbHMvcnVsZSc7XHJcbmltcG9ydCB7IFRlc3QgfSBmcm9tICcuLi9tb2RlbHMvdGVzdCc7XHJcbmltcG9ydCB7IEFycmF5SXRlbVByb3BlcnR5IH0gZnJvbSAnLi4vbW9kZWxzL2FycmF5LWl0ZW0tcHJvcGVydHknO1xyXG5pbXBvcnQgeyBSdWxlU2V0IH0gZnJvbSAnLi4vbW9kZWxzL3J1bGUtc2V0JztcclxuaW1wb3J0IHsgUnVsZUZ1bmMgfSBmcm9tICcuLi9tb2RlbHMvcnVsZS1mdW5jJztcclxuaW1wb3J0IHsgUnVsZU9wdGlvbnMgfSBmcm9tICcuLi9tb2RlbHMvcnVsZS1vcHRpb25zJztcclxuaW1wb3J0IHsgQXN5bmNSdWxlRnVuYyB9IGZyb20gJy4uL21vZGVscy9hc3luYy1ydWxlLWZ1bmMnO1xyXG5pbXBvcnQgeyBSdWxlR3JvdXBPcHRpb25zIH0gZnJvbSAnLi4vbW9kZWxzL3J1bGUtZ3JvdXAtb3B0aW9ucyc7XHJcbmltcG9ydCB7IFJlc3VsdHNQYXNzUmVxdWlyZW1lbnQgfSBmcm9tICcuLi9tb2RlbHMvcmVzdWx0cy1wYXNzLXJlcXVpcmVtZW50JztcclxuXHJcbi8qKlxyXG4gKiBVdGlsaXR5IGNsYXNzIGZvciBidWlsZGluZyBtb2RlbCBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1vZGVsU2V0dGluZ3NCdWlsZGVyIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIHByb3BlcnR5XHJcbiAgICAgKiBAcGFyYW0gcHJvcGVydHlOYW1lIFByb3BlcnR5IG5hbWVcclxuICAgICAqIEBwYXJhbSBleHRlbmQgRnVuY3Rpb24gdG8gZXh0ZW5kIHRoZSBwcm9wZXJ0eVxyXG4gICAgICogQHJldHVybnMgQ3JlYXRlZCBwcm9wZXJ0eVxyXG4gICAgICovXHJcbiAgICBwcm9wZXJ0eTxUPihwcm9wZXJ0eU5hbWU6IGtleW9mIFQsIGV4dGVuZD86IChwcm9wOiBQcm9wZXJ0eTxUPikgPT4gdm9pZCk6IFByb3BlcnR5PFQ+IHtcclxuICAgICAgICBpZiAoIXByb3BlcnR5TmFtZSB8fCB0eXBlb2YgcHJvcGVydHlOYW1lICE9PSAnc3RyaW5nJykgdGhyb3cgRXJyb3IoJ0ludmFsaWQgcHJvcGVydHkgbmFtZScpO1xyXG5cclxuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eTxUPihwcm9wZXJ0eU5hbWUpO1xyXG5cclxuICAgICAgICBpZiAoZXh0ZW5kKSBleHRlbmQocHJvcGVydHkpO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJvcGVydHk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGl0ZW0gcHJvcGVydHlcclxuICAgICAqIEBwYXJhbSBleHRlbmQgRnVuY3Rpb24gdG8gZXh0ZW5kIHRoZSBhcnJheSBpdGVtIHByb3BlcnR5XHJcbiAgICAgKiBAcmV0dXJucyBDcmVhdGVkIGFycmF5IGl0ZW0gcHJvcGVydHlcclxuICAgICAqL1xyXG4gICAgYXJyYXlJdGVtUHJvcGVydHk8VD4oZXh0ZW5kPzogKHByb3A6IEFycmF5SXRlbVByb3BlcnR5PFQ+KSA9PiB2b2lkKTogQXJyYXlJdGVtUHJvcGVydHk8VD4ge1xyXG4gICAgICAgIGNvbnN0IHByb3BlcnR5ID0gbmV3IEFycmF5SXRlbVByb3BlcnR5PFQ+KCk7XHJcblxyXG4gICAgICAgIGlmIChleHRlbmQpIGV4dGVuZChwcm9wZXJ0eSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9wZXJ0eTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSB2YWxpZGF0aW9uIHRlc3RcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2Ugd2hlbiB0aGUgdGVzdCBmYWlsc1xyXG4gICAgICogQHBhcmFtIGNoZWNrIENoZWNrIHJ1bGUgc2V0IGZvciB0aGUgdGVzdFxyXG4gICAgICogQHBhcmFtIGNvbmRpdGlvbiBDb25kaXRpb24gcnVsZSBzZXQgZm9yIHRoZSB0ZXN0XHJcbiAgICAgKiBAcmV0dXJucyBDcmVhdGVkIHZhbGlkYXRpb24gdGVzdFxyXG4gICAgICovXHJcbiAgICB2YWxpZFRlc3Q8VD4obWVzc2FnZTogc3RyaW5nLCBjaGVjazogUnVsZVNldDxUPiwgY29uZGl0aW9uPzogUnVsZVNldDxUPik6IFRlc3Q8VD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkTmFtZWRUZXN0KG51bGwsIG1lc3NhZ2UsIGNoZWNrLCBjb25kaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5hbWVkIHZhbGlkYXRpb24gdGVzdFxyXG4gICAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgdGVzdFxyXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgTWVzc2FnZSB3aGVuIHRoZSB0ZXN0IGZhaWxzXHJcbiAgICAgKiBAcGFyYW0gY2hlY2sgQ2hlY2sgcnVsZSBzZXQgZm9yIHRoZSB0ZXN0XHJcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uIENvbmRpdGlvbiBydWxlIHNldCBmb3IgdGhlIHRlc3RcclxuICAgICAqIEByZXR1cm5zIENyZWF0ZWQgbmFtZWQgdmFsaWRhdGlvbiB0ZXN0XHJcbiAgICAgKi9cclxuICAgIHZhbGlkTmFtZWRUZXN0PFQ+KG5hbWU6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBjaGVjazogUnVsZVNldDxUPiwgY29uZGl0aW9uPzogUnVsZVNldDxUPik6IFRlc3Q8VD4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXHJcbiAgICAgICAgICAgIGNoZWNrOiBjaGVjayxcclxuICAgICAgICAgICAgY29uZGl0aW9uOiBjb25kaXRpb25cclxuICAgICAgICB9IGFzIFRlc3Q8VD47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGVkaXQgdGVzdFxyXG4gICAgICogQHBhcmFtIGNoZWNrIENoZWNrIHJ1bGUgc2V0IGZvciB0aGUgdGVzdFxyXG4gICAgICogQHBhcmFtIGNvbmRpdGlvbiBDb25kaXRpb24gcnVsZSBzZXQgZm9yIHRoZSB0ZXN0XHJcbiAgICAgKiBAcmV0dXJucyBDcmVhdGVkIGVkaXQgdGVzdFxyXG4gICAgICovXHJcbiAgICBlZGl0VGVzdDxUPihjaGVjazogUnVsZVNldDxUPiwgY29uZGl0aW9uPzogUnVsZVNldDxUPik6IFRlc3Q8VD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVkaXROYW1lZFRlc3QobnVsbCwgY2hlY2ssIGNvbmRpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmFtZWQgZWRpdCB0ZXN0XHJcbiAgICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSB0ZXN0XHJcbiAgICAgKiBAcGFyYW0gY2hlY2sgQ2hlY2sgcnVsZSBzZXQgZm9yIHRoZSB0ZXN0XHJcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uIENvbmRpdGlvbiBydWxlIHNldCBmb3IgdGhlIHRlc3RcclxuICAgICAqIEByZXR1cm5zIENyZWF0ZWQgbmFtZWQgZWRpdCB0ZXN0XHJcbiAgICAgKi9cclxuICAgIGVkaXROYW1lZFRlc3Q8VD4obmFtZTogc3RyaW5nLCBjaGVjazogUnVsZVNldDxUPiwgY29uZGl0aW9uPzogUnVsZVNldDxUPik6IFRlc3Q8VD4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIGNoZWNrOiBjaGVjayxcclxuICAgICAgICAgICAgY29uZGl0aW9uOiBjb25kaXRpb25cclxuICAgICAgICB9IGFzIFRlc3Q8VD47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgcnVsZVxyXG4gICAgICogQHBhcmFtIGZ1bmMgRnVuY3Rpb24gZm9yIHRoZSBydWxlXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBZGRpdGlvbmFsIHJ1bGUgb3B0aW9uc1xyXG4gICAgICogQHJldHVybnMgQ3JlYXRlZCBydWxlXHJcbiAgICAgKi9cclxuICAgIHJ1bGU8VCwgUj4oZnVuYzogUnVsZUZ1bmM8VCwgUj4sIG9wdGlvbnM/OiBSdWxlT3B0aW9ucyk6IFJ1bGU8VD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJ1bGVDb21ibyhmdW5jLCBudWxsLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gYXN5bmMgcnVsZVxyXG4gICAgICogQHBhcmFtIGFzeW5jRnVuYyBBc3luYyBmdW5jdGlvbiBmb3IgdGhlIHJ1bGVcclxuICAgICAqIEBwYXJhbSBvcHRpb25zIEFkZGl0aW9uYWwgcnVsZSBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJucyBDcmVhdGVkIHJ1bGVcclxuICAgICAqL1xyXG4gICAgcnVsZUFzeW5jPFQsIFI+KGFzeW5jRnVuYzogQXN5bmNSdWxlRnVuYzxULCBSPiwgb3B0aW9ucz86IFJ1bGVPcHRpb25zKTogUnVsZTxUPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucnVsZUNvbWJvKG51bGwsIGFzeW5jRnVuYywgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgY29tYm8gcnVsZSB0aGF0IGhhcyBib3RoIHN5bmNyb25vdXMgYW5kIGFzeW5jIGZ1bmN0aW9uc1xyXG4gICAgICogQHBhcmFtIGZ1bmMgRnVuY3Rpb24gZm9yIHRoZSBydWxlXHJcbiAgICAgKiBAcGFyYW0gYXN5bmNGdW5jIEFzeW5jIGZ1bmN0aW9uIGZvciB0aGUgcnVsZVxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQWRkaXRpb25hbCBydWxlIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIENyZWF0ZWQgcnVsZVxyXG4gICAgICovXHJcbiAgICBydWxlQ29tYm88VCwgUj4oZnVuYzogUnVsZUZ1bmM8VCwgUj4sIGFzeW5jRnVuYzogQXN5bmNSdWxlRnVuYzxULCBSPiwgb3B0aW9ucz86IFJ1bGVPcHRpb25zKTogUnVsZTxUPiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZnVuYzogZnVuYyxcclxuICAgICAgICAgICAgYXN5bmNGdW5jOiBhc3luY0Z1bmMsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcclxuICAgICAgICB9IGFzIFJ1bGU8VD47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgcnVsZSBncm91cFxyXG4gICAgICogQHBhcmFtIHJ1bGVTZXRzIFJ1bGUgc2V0cyBmb3IgdGhlIHJ1bGUgZ3JvdXBcclxuICAgICAqIEBwYXJhbSBvcHRpb25zIEFkZGl0aW9uYWwgcnVsZSBncm91cCBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJucyBDcmVhdGVkIHJ1bGUgZ3JvdXBcclxuICAgICAqL1xyXG4gICAgcnVsZUdyb3VwPFQ+KHJ1bGVTZXRzOiBSdWxlU2V0PFQ+W10sIG9wdGlvbnM/OiBSdWxlR3JvdXBPcHRpb25zKTogUnVsZUdyb3VwPFQ+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBydWxlczogcnVsZVNldHMsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMgfHwgeyByZXN1bHRSZXF1aXJlbWVudHM6IFJlc3VsdHNQYXNzUmVxdWlyZW1lbnQuQWxsUGFzcyB9XHJcbiAgICAgICAgfSBhcyBSdWxlR3JvdXA8VD47XHJcbiAgICB9XHJcbn0iXX0=